<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 4 meta tags *must* come first in the head;
any other head content must come *after* these tags -->
    <!-- Title  -->
    <title>GreySpots - Your Guide in COVID’s New Normal</title>
    <link rel="shortcut icon" href="static/picture/favicon.ico"/>
    <!-- ***** All CSS Files ***** -->
    <!-- Style css -->
    <link rel="stylesheet" href="static/css/style.css">

    <style rel="stylesheet">
        #nav-home-tab {
        appearance: auto;
        border-color: dimgray;
        }
    </style>

</head>
<body>
<!--====== Preloader Area Start ======-->
<div id="netstorm-preloader" class="netstorm-preloader">
    <!-- Preloader Animation -->
    <div class="preloader-animation">
        <!-- Spinner -->
        <div class="spinner"></div>
        <p class="fw-5 text-center text-uppercase">Loading</p>
    </div>
    <!-- Loader Animation -->
    <div class="loader-animation">
        <div class="row h-100">
            <!-- Single Loader -->
            <div class="col-3 single-loader p-0">
                <div class="loader-bg"></div>
            </div>
            <!-- Single Loader -->
            <div class="col-3 single-loader p-0">
                <div class="loader-bg"></div>
            </div>
            <!-- Single Loader -->
            <div class="col-3 single-loader p-0">
                <div class="loader-bg"></div>
            </div>
            <!-- Single Loader -->
            <div class="col-3 single-loader p-0">
                <div class="loader-bg"></div>
            </div>
        </div>
    </div>
</div>
<!--====== Preloader Area End ======-->
<div class="main">
    <!-- ***** Header Start ***** -->
    <header id="header">
        <!-- Navbar -->
        <nav data-aos="zoom-out" data-aos-delay="800" class="navbar navbar-expand">
            <div class="container header">
                <!-- Navbar Brand-->
                <a class="navbar-brand" href="https://greyspots.tech"> <img class="navbar-brand-sticky" src="static/picture/logowithword.png" alt="sticky brand-logo" /></a>
                <div class="ml-auto"></div>
                <!-- Navbar -->
                <ul class="navbar-nav items mx-auto">
                    <li class="nav-item"><a class="nav-link" href="https://greyspots.tech">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://greyspots.tech/SafetyGuard.php">Safety Guard</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://greyspots.tech/CrowdAdvisor.php">Crowd Advisor</a></li>
                    <li class="nav-item dropdown"><a class="nav-link" href="#">Covid Informatics <i class="fas fa-angle-down ml-1"></i></a>
                        <ul class="dropdown-menu">
                            <li class="nav-item"><a class="nav-link" href="https://greyspots.tech/ExposureSite.php">Exposure Site</a></li>
                            <li class="nav-item"><a class="nav-link" href="https://greyspots.tech/Covid-19Testing.php">Covid-19 Testing</a></li>
                            <li class="nav-item"><a class="nav-link" href="https://greyspots.tech/VaccinatePoint.php">Vaccinate Points</a></li>
                        </ul> </li>
                    <li class="nav-item"><a class="nav-link" href="https://greyspots.tech/ExposureAlert.php">Exposure Alert</a></li>
                    <li class="nav-item dropdown"><a class="nav-link" href="#">About <i class="fas fa-angle-down ml-1"></i></a>
                        <ul class="dropdown-menu">
                            <li class="nav-item"><a class="nav-link" href="https://greyspots.tech/About.php">About Site</a></li>
                            <li class="nav-item"><a class="nav-link" href="https://greyspots.tech/AboutData.php">About Data</a></li>
                        </ul> </li>
                </ul>

                <!-- Navbar menu -->
                <ul class="navbar-nav toggle">
                    <li class="nav-item"> <a href="#" class="nav-link" data-toggle="modal" data-target="#menu"> <i class="fas fa-bars toggle-icon m-0"></i> </a> </li>
                </ul>
            </div>
        </nav>
    </header>
    <!-- ***** Header End ***** -->
    <!-- ***** Title Area Start ***** -->
    <section class="breadcrumb-area overlay-dark d-flex align-items-center">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <!-- Breamcrumb Content -->
                    <div class="breadcrumb-content text-center">
                        <h2 class="m-0">Vaccinate Points</h2>
                        <p>Here you can find the nearest Covid vaccine points to your location.
                            Getting vaccinated is the best way of protecting yourself and others.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Title Area End ***** -->
    <!-- ***** Exposure Site Area Start ***** -->

    <section class="activity-area load-more">
        <div class="container">
            <div class="row items wra">
                <div class="col-12 col-md-6 col-lg-8">
                    <!-- ExS Tab -->
                    <ul class="netstorm-tab nav nav-tabs" id="nav-tab">
                        <li>
                            <select class="active" id="nav-home-tab" data-toggle="pill" href="#victoria"></select>
                        </li>
                    </ul>
                    <!-- Tab Content -->
                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane fade show active wraBottom" id="victoria">
                            <ul class="list-unstyled">
                                <p>loading</p>
                            </ul>
                        </div>
                    </div>
                    <nav style="padding-left:20px;">
                        <ul class="pagination flex-wrap"></ul>
                    </nav>
                </div>
                <div class="col-12 col-md-6 col-lg-4">
                    <!-- Activity Content -->
                    <div class="activity-content mt-5 mt-lg-0">
                        <!-- Single Widget -->
                        <div class="single-widget">
                            <h5>Instruction</h5>
                            <p>Here you can check for all the Covid-19 vaccination centres. You can select the interested suburb from the drop down list by clicking on the ‘All Victoria’ button.</p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Exposure Site Area End ***** -->
    <!--======Footer Area Start======-->
    <footer class="footer-area">
        <!-- Footer Top -->
        <div class="footer-top">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-sm-6 col-lg-3 res-margin">
                        <!-- Footer Items -->
                        <div class="footer-items">
                            <!-- Footer Title -->
                            <h4 class="footer-title">Useful Links</h4>
                            <ul>
                                <li><a href="https://greyspots.tech">Home</a></li>
                                <li><a href="https://greyspots.tech/SafetyGuard.php">Safety Guard</a></li>
                                <li><a href="https://greyspots.tech/CrowdAdvisor.php">Crowd Advisor</a></li>
                                <li><a href="https://greyspots.tech/ExposureAlert.php">Exposure Alert</a></li>
                                <li><a href="https://greyspots.tech/AboutData.php">Open Data</a></li>
                                <li><a href="https://greyspots.tech/About.php">About</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6 col-lg-3 res-margin">
                        <!-- Footer Items -->
                        <div class="footer-items">
                            <!-- Footer Title -->
                            <h4 class="footer-title">Covid Informatics</h4>
                            <ul>
                                <li><a href="https://greyspots.tech/ExposureSite.php">Exposure Site</a></li>
                                <li><a href="https://greyspots.tech/Covid-19Testing.php">Covid-19 Testing</a></li>
                                <li><a href="https://greyspots.tech/VaccinatePoints.php">Vaccinate Points</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6 col-lg-3 res-margin">

                    </div>
                    <div class="col-12 col-sm-6 col-lg-3 res-margin">
                        <!-- Footer Items -->
                        <div class="footer-items">
                            <!-- Logo -->
                            <a class="navbar-brand" href=""> <img width="250" src="static/picture/Team logo.png" alt="" /></a>
                            <p>A group of people who have a tech background and work on social good.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer Bottom -->
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <!-- Copyright Area -->
                        <div class="copyright-area d-flex flex-wrap justify-content-center justify-content-sm-between text-center py-4">
                            <!-- Copyright -->
                            <div class="copyright-left">
                                Made By TechHumans For TechHumans.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--======Footer Area End======-->
    <!--====== Modal Responsive Menu Area Start ======-->
    <div id="menu" class="modal fade p-0">
        <div class="modal-dialog dialog-animated">
            <div class="modal-content h-100">
                <div class="modal-header" data-dismiss="modal">
                    Menu <i class="far fa-times-circle icon-close"></i>
                </div>
                <div class="menu modal-body">
                    <div class="row w-100">
                        <div class="items p-0 col-12 text-center"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--====== Modal Responsive Menu Area End ======-->
    <!--====== Scroll To Top Area Start ======-->
    <div id="scroll-to-top" class="scroll-to-top">
        <a href="#header" class="smooth-anchor">
            <i class="fas fa-arrow-up"></i>
        </a>
    </div>
    <!--====== Scroll To Top Area End ======-->
</div>
<!-- ***** All jQuery Plugins ***** -->
<!-- jQuery(necessary for all JavaScript plugins) -->
<script src="static/js/jquery.min.js"></script>
<!-- Bootstrap js -->
<script src="static/js/popper.min.js"></script>
<script src="static/js/bootstrap.min.js"></script>
<!-- Plugins js -->
<script src="static/js/all.min.js"></script>
<script src="static/js/slider.min.js"></script>
<script src="static/js/countdown.min.js"></script>
<script src="static/js/shuffle.min.js"></script>
<!-- Active js -->
<script src="static/js/main.js"></script>
<script>
    const PAGE_SIZE = 25
    let spots = []
    let spotsFiltered = []
    let suburbs = []
    let currentPage = 0
    $(() => {
        $('.activity-area.load-more').css('padding', '10px 0')
        $.get('/dbvp.php', (data) => {
            if (!data) {
                alert('Failed to fetch data')
                return
            }
            spots = JSON.parse(data)
            spots.sort((a, b) => {
                if (a.clinicId < b.clinicId) return 1
                else return -1
            })
            suburbs = [...new Set(spots.map(spot => spot.suburb))]
            suburbs.sort()
            updateSuburbs()
            spotsFiltered = spots
            updatePages()
        })
    })

    updateSuburbs = () => {
        let container = $('#nav-home-tab')
        container.empty()
        container.append(`<option value="All Victoria"><h5 class="m-0">All Victoria</h5></option>`)
        suburbs.forEach(suburb => {
            container.append(
                `<option value="${suburb}">
                    <h5 class="m-0">${suburb}</h5>
                </option>`)
        })
        container.on('change', (e) => {
            let chosenSuburb = e.currentTarget.value
            if (chosenSuburb == 'All Victoria') {
                spotsFiltered = spots
            } else {
                spotsFiltered = spots.filter(spot => {
                    return spot.suburb == chosenSuburb
                })
            }
            updatePages()
        })
    }

    updatePages = () => {
        $('ul.pagination').empty()
        $('ul.pagination').get(0).innerHTML += '<li class="page-item"><a class="page-link" href="#"><</a></li>'
        for (let i = 0; i < Math.ceil(spotsFiltered.length / PAGE_SIZE); i++) {
            $('ul.pagination').get(0).innerHTML += '<li class="page-item"><a class="page-link" href="#">' + (i + 1) + '</a></li>'
        }
        $('ul.pagination').get(0).innerHTML += '<li class="page-item"><a class="page-link" href="#">></a></li>'
        $('.page-link').click((e) => {
            let text = e.currentTarget.innerHTML
            if (text == '&lt;') {
                if (currentPage == 0) return
                showPage(currentPage - 1)
            } else if (text == '&gt;') {
                if (currentPage == Math.ceil(spotsFiltered.length / PAGE_SIZE) - 1) return
                showPage(currentPage + 1)
            } else {
                let index = parseInt(e.currentTarget.innerHTML) - 1
                showPage(index)
            }
        })
        showPage(0)
    }

    showPage = (index) => {
        currentPage = index
        let listContainer = $('.activity-area').find('ul.list-unstyled')
        listContainer.empty()
        let spotsCurrentPage = spotsFiltered.slice(index * PAGE_SIZE, index * PAGE_SIZE + PAGE_SIZE)

        spotsCurrentPage.forEach((spot) => {
            listContainer.get(0).innerHTML +=
                `<li class="single-tab-list d-flex align-items-center">
                        <div class="activity-content ml-4">
                            <a>
                                <h3 class="site_title mt-0 mb-2">${spot.shortName}</h3>
                            </a>
                        <p class="site_streetAddress m-0"><h5 class="site_title mt-0 mb-2">${spot.addressFull}</h5>
                            <h6>${spot.opening_hours}</h6>
                            Requirements: ${spot.bookingsTable} and ${spot.walkinsTable}
                            <br>
                            Accessible Parking:            ${spot.Accessible_Parking}
                            <br>
                            Accessible Toilets:            ${spot.Accessible_Toilets}
                            <br>
                            Accessible Mobility:           ${spot.Accessible_Mobility}
                            <br>
                            Accessible Auslan EasyEnglish: ${spot.Accessible_Auslan_EasyEnglish}
                            <br>
                            Accessible Assistance Animals: ${spot.Accessible_Assistance_Animals}
                            <br>
                            Accessible TIS Available:      ${spot.Accessible_TIS_Available}
                            <br>
                            Translated Material:           ${spot.Translated_Material}
                        </p>
                        </div>
                    </li>`
        })
        let nth = 2 + currentPage
        $('ul.pagination').find('li').removeClass('active')
        $('ul.pagination').find('li:nth-child(' + nth + ')').addClass('active')
    }
</script>
</body>


</html>